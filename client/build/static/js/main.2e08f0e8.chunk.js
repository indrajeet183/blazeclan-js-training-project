(this.webpackJsonpecom=this.webpackJsonpecom||[]).push([[0],{52:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"GET_PRODUCTS",(function(){return q})),a.d(r,"ADD_PRODUCT",(function(){return A})),a.d(r,"UPDATE_PRODUCT",(function(){return F})),a.d(r,"DELETE_PRODUCT",(function(){return V})),a.d(r,"SEARCH_PRODUCT",(function(){return R})),a.d(r,"FETCH_PRODUCT_SUCCESS",(function(){return M})),a.d(r,"FETCH_PRODUCT_FAILED",(function(){return z})),a.d(r,"ADD_PRODUCT_SUCCESS",(function(){return H})),a.d(r,"ADD_PRODUCT_FAILED",(function(){return B})),a.d(r,"getProducts",(function(){return G})),a.d(r,"addProduct",(function(){return J})),a.d(r,"updateProduct",(function(){return K})),a.d(r,"deleteProduct",(function(){return X})),a.d(r,"searchProducts",(function(){return W}));var n=a(1),s=a.n(n),c=a(29),i=a.n(c),o=(a(52),a(53),a(54),a(19)),l=Object(n.createContext)(""),d=a(0),u=function(e){var t=Object(n.useState)({msg:"TEST",type:"success",toggeled:!1}),a=Object(o.a)(t,2),r=a[0],s=a[1],c=sessionStorage.getItem("token"),i=sessionStorage.getItem("role");console.log(c,i);var u=Object(d.jsxs)("div",{className:"navbar-nav",children:[Object(d.jsx)("a",{className:"".concat("/"===window.location.pathname?"nav-link active":"nav-link"),href:"/",children:"Home"}),Object(d.jsx)("a",{className:"".concat("/signup"===window.location.pathname?"nav-link active":"nav-link"),href:"/signup",children:"Registration"}),Object(d.jsx)("a",{className:"".concat("/login"===window.location.pathname?"nav-link active":"nav-link"),href:"/login",children:"Login"}),Object(d.jsx)("a",{className:"".concat("/products"===window.location.pathname?"nav-link active":"nav-link"),href:"/products",children:"Products"})]});return c&&"customer"===i&&(u=Object(d.jsxs)("div",{className:"navbar-nav",children:[Object(d.jsx)("a",{className:"".concat("/"===window.location.pathname?"nav-link active":"nav-link"),href:"/",children:"Home"}),Object(d.jsx)("a",{className:"".concat("/products"===window.location.pathname?"nav-link active":"nav-link"),href:"/products",children:"Products"})]})),c&&"admin"===i&&(u=Object(d.jsxs)("div",{className:"navbar-nav",children:[Object(d.jsx)("a",{className:"".concat("/"===window.location.pathname?"nav-link active":"nav-link"),href:"/",children:"Home"}),Object(d.jsx)("a",{className:"".concat("/products"===window.location.pathname?"nav-link active":"nav-link"),href:"/products",children:"Products"}),Object(d.jsx)("a",{className:"".concat("/product"===window.location.pathname?"nav-link active":"nav-link"),href:"/product",children:"Product Create"}),Object(d.jsx)("a",{className:"".concat("/category"===window.location.pathname?"nav-link active":"nav-link"),href:"/category",children:"Category"})]})),Object(d.jsx)(l.Provider,{value:{showAlert:function(e){s(e)}},children:Object(d.jsxs)("div",{className:"container-fluid p-0",children:[Object(d.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(d.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("span",{className:"navbar-toggler-icon"})}),Object(d.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:u})]}),Object(d.jsx)("div",{className:"container-fluid",children:e.children}),Object(d.jsx)("div",{className:"alert alert-"+r.type+(r.toggeled?"":" d-none"),role:"alert",children:r.msg})]})})},b=a(10),m=a(14),h=a(16),g=a(15),j=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(d.jsx)("div",{className:"jumbotron jumbotron-fluid",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{className:"display-4",children:"Home Page"}),Object(d.jsx)("p",{className:"lead",children:"This is M(MariaDB)E(Express)R(React)N(NodeJS)"})]})})}}]),a}(n.Component),p=a(11),O=a(8),v=a(5),f=a.n(v),x=a(28),C=a(12),y=a(2),S=function(e){return Object(d.jsx)("div",{className:"".concat(e.isValid?"invalid-message":"d-none"),children:e.message})},k=function(e){return Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:e.name,children:e.label}),Object(d.jsx)("input",{className:"form-control",value:e.value,type:e.type,name:e.name,onChange:function(t){return e.handleChange(t)}}),Object(d.jsx)(S,{isValid:e.isValid,message:e.msg})]})},_=a(9),w=a.n(_),N=function e(){var t=this;Object(b.a)(this,e),this.getManufacturers=function(){return w.a.get("".concat(t.baseUrl,"/manufacturer"),{headers:{Authorization:sessionStorage.getItem("token")}})},this.getManufacturerById=function(e){return w.a.get("".concat(t.baseUrl,"/manufacturer/").concat(e),{headers:{Authorization:sessionStorage.getItem("token")}})},this.createManufacturer=function(e){return w.a.post("".concat(t.baseUrl,"/manufacturer"),e,{headers:{Authorization:sessionStorage.getItem("token")}})},this.updateManufacturer=function(e){return w.a.put("".concat(t.baseUrl,"/manufacturer/").concat(e.id),e,{headers:{Authorization:sessionStorage.getItem("token")}})},this.deleteManufacturer=function(e){return w.a.delete("".concat(t.baseUrl,"/manufacturer/").concat(e),{headers:{Authorization:sessionStorage.getItem("token")}})},this.baseUrl="http://localhost:5004"},D=function e(){var t=this;Object(b.a)(this,e),this.getProducts=function(){return w.a.get("".concat(t.baseUrl,"/product"),{headers:{Authorization:sessionStorage.getItem("token")}})},this.getProductById=function(e){return w.a.get("".concat(t.baseUrl,"/product/").concat(e),{headers:{Authorization:sessionStorage.getItem("token")}})},this.createProduct=function(e){return w.a.post("".concat(t.baseUrl,"/product"),e,{headers:{Authorization:sessionStorage.getItem("token"),"Content-type":"multipart/form-data"}})},this.updateProduct=function(e){return w.a.put("".concat(t.baseUrl,"/product/").concat(e.id),e,{headers:{Authorization:sessionStorage.getItem("token")}})},this.deleteProduct=function(e){return w.a.delete("".concat(t.baseUrl,"/product/").concat(e),{headers:{Authorization:sessionStorage.getItem("token")}})},this.baseUrl="http://localhost:5005"},P=function(e){return Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:e.name,children:e.label}),Object(d.jsxs)("select",{className:"form-control",name:e.name,value:e.selected,onChange:function(t){return e.changeSelect(t.target.value)},children:[Object(d.jsx)("option",{value:"",disabled:!0,children:"Choose"}),e.data.map((function(t,a){return Object(d.jsx)("option",{value:t.id,children:t.name},"".concat(e.name,"-").concat(a))}))]}),Object(d.jsx)(S,{isValid:e.isValid,message:e.msg})]})},T=function(e){return Object(d.jsxs)("div",{className:"input-group mb-3",children:[Object(d.jsx)("div",{className:"input-group-prepend",children:Object(d.jsx)("span",{className:"input-group-text",id:"inputGroupFileAddon01",children:"Upload"})}),Object(d.jsxs)("div",{className:"custom-file",children:[Object(d.jsx)("input",{type:"file",className:"custom-file-input",multiple:!0,id:"inputGroupFile01",onChange:function(t){e.handleChange(t.target.files)}}),Object(d.jsx)("label",{className:"custom-file-label",htmlFor:"inputGroupFile01",children:"Choose file"})]})]})},U=function(){var e=new N,t=new D,a=Object(n.useState)({name:"",sku:"",manufacturer_id:"",price:0,weight:0,description:"",short_description:"",url:"",visibilty:0}),r=Object(o.a)(a,2),s=r[0],c=r[1],i=Object(n.useState)({products:[],filteredProducts:[]}),l=Object(o.a)(i,2),u=(l[0],l[1]),b=Object(n.useState)(""),m=Object(o.a)(b,2),h=(m[0],m[1],Object(n.useState)([])),g=Object(o.a)(h,2),j=g[0],p=g[1],v=Object(n.useState)({}),S=Object(o.a)(v,2),_=(S[0],S[1],Object(n.useState)({name:{required:!0,minLength:3,maxLength:30,error:!0,msg:"Field is required!"},sku:{required:!0,minLength:3,maxLength:30,error:!0,msg:"Field is required!"},manufacturer_id:{required:!0,error:!0,msg:"Field is required!"},price:{required:!0,notzero:!0,error:!0,msg:"Field is required!"},weight:{required:!0,notzero:!0,error:!0,msg:"Field is required!"},description:{required:!0,minLength:3,maxLength:2e3,error:!0,msg:"Field is required!"},short_description:{required:!0,minLength:3,maxLength:500,error:!0,msg:"Field is required!"},url:{required:!0,minLength:3,maxLength:30,error:!0,msg:"Field is required!"},visibilty:{required:!0,error:!0,msg:"Field is required!"}})),w=Object(o.a)(_,2),U=w[0],L=w[1],E=Object(n.useState)([]),I=Object(o.a)(E,2),q=I[0],A=I[1];Object(n.useEffect)(Object(C.a)(f.a.mark((function a(){var r,n,s;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.getManufacturers();case 2:return(r=a.sent).data.success&&A(Object(x.a)(r.data.data)),a.next=6,t.getProducts();case 6:(n=a.sent).data.success&&(s=Object(x.a)(n.data.data),u({products:s,filteredProducts:s}));case 8:case"end":return a.stop()}}),a)}))),[]),Object(n.useEffect)((function(){F()}),[s]);var F=function(){var e=Object(y.a)({},U);Object.keys(e).forEach((function(t){e=e[t].required&&0===s[t].length?Object(y.a)(Object(y.a)({},e),{},Object(O.a)({},t,Object(y.a)(Object(y.a)({},e[t]),{},{error:!0,msg:"This field is required!"}))):s[t].length>e[t].minLength&&!(s[t].length<e[t].maxLength)?Object(y.a)(Object(y.a)({},e),{},Object(O.a)({},t,Object(y.a)(Object(y.a)({},e[t]),{},{error:!0,msg:"The field length should be minimum = ".concat(e[t].minLength," and maximum = ").concat(e[t].maxLength)}))):e[t].notzero&&s[t]<=0?Object(y.a)(Object(y.a)({},e),{},Object(O.a)({},t,Object(y.a)(Object(y.a)({},e[t]),{},{error:!0,msg:"Value should be positive!"}))):Object(y.a)(Object(y.a)({},e),{},Object(O.a)({},t,Object(y.a)(Object(y.a)({},e[t]),{},{error:!1,msg:""})))})),L(e)},V=function(){var e=Object(C.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("product-data",JSON.stringify(s)),Object.keys(j).forEach((function(e){return a.append("product_images",j[e])})),e.next=5,t.createProduct(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-lg-5",children:Object(d.jsxs)("div",{className:"form-group mt-3",children:[Object(d.jsx)(k,{label:"Name",name:"name",value:s.name,type:"text",isValid:U.name.error,msg:U.name.msg,handleChange:function(e){c(Object(y.a)(Object(y.a)({},s),{},{name:e.target.value}))}}),Object(d.jsx)(k,{label:"SKU",name:"sku",value:s.sku,type:"text",isValid:U.sku.error,msg:U.sku.msg,handleChange:function(e){c(Object(y.a)(Object(y.a)({},s),{},{sku:e.target.value}))}}),Object(d.jsx)(k,{label:"URL",name:"url",value:s.url,type:"text",isValid:U.url.error,msg:U.url.msg,handleChange:function(e){c(Object(y.a)(Object(y.a)({},s),{},{url:e.target.value}))}}),Object(d.jsx)(P,{name:"manufacturer_id",label:"Manufacurer",data:q,changeSelect:function(e){c(Object(y.a)(Object(y.a)({},s),{},{manufacturer_id:e}))},selected:s.manufacturer_id,isValid:U.manufacturer_id.error,msg:U.manufacturer_id.msg}),Object(d.jsx)(k,{label:"Price",name:"price",value:s.price,type:"number",isValid:U.price.error,msg:U.price.msg,handleChange:function(e){c(Object(y.a)(Object(y.a)({},s),{},{price:e.target.value}))}}),Object(d.jsx)(k,{label:"Weight",name:"weight",value:s.weight,type:"number",isValid:U.weight.error,msg:U.weight.msg,handleChange:function(e){c(Object(y.a)(Object(y.a)({},s),{},{weight:e.target.value}))}}),Object(d.jsx)(k,{label:"Description",name:"description",value:s.description,type:"text",isValid:U.description.error,msg:U.description.msg,handleChange:function(e){c(Object(y.a)(Object(y.a)({},s),{},{description:e.target.value}))}}),Object(d.jsx)(k,{label:"Short Description",name:"short_description",value:s.short_description,type:"text",isValid:U.short_description.error,msg:U.short_description.msg,handleChange:function(e){c(Object(y.a)(Object(y.a)({},s),{},{short_description:e.target.value}))}}),Object(d.jsx)(P,{name:"visible",label:"Visibility",data:[{id:1,name:"Visible"},{id:0,name:"Hidden"}],changeSelect:function(e){c(Object(y.a)(Object(y.a)({},s),{},{visibilty:e}))},selected:s.visibilty,isValid:U.visibilty.error,msg:U.visibilty.msg}),Object(d.jsx)(T,{handleChange:p}),Object(d.jsx)("button",{className:"btn btn-success",onClick:V,children:"Save"}),Object(d.jsx)("button",{className:"btn btn-warning ml-5",children:"Clear"})]})})})})},L=Object(n.createContext)(null),E=function(){var e=Object(n.useContext)(L).selectedProduct;return Object(d.jsx)("div",{className:"modal fade",id:"orderModel",tabIndex:"-1",children:Object(d.jsx)("div",{className:"modal-dialog",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Product Details"}),Object(d.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(d.jsx)("span",{children:"\xd7"})})]}),Object(d.jsx)("div",{className:"modal-body",children:Object(d.jsxs)("div",{className:"card",children:[(e.product_images&&e.product_images.length)>0?Object(d.jsxs)("div",{id:"carouselExampleControls",className:"carousel slide","data-ride":"carousel",children:[Object(d.jsx)("div",{className:"carousel-inner",children:e.product_images.map((function(e,t){return Object(d.jsx)("div",{className:0===t?"carousel-item active":"carousel-item",children:Object(d.jsx)("div",{style:{backgroundImage:"url(".concat("http://localhost:5005/"+e.image_path,")"),backgroundSize:"cover",height:"500px"},className:"w-100",alt:e.name})},"product_detail_caro"+t)}))}),Object(d.jsxs)("a",{className:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev",children:[Object(d.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(d.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object(d.jsxs)("a",{className:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next",children:[Object(d.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(d.jsx)("span",{className:"sr-only",children:"Next"})]})]}):"",Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title",children:Object(d.jsx)("strong",{children:e.name})}),Object(d.jsx)("p",{className:"card-text",children:e.description}),Object(d.jsxs)("p",{className:"card-text",children:["Price : ",e.price,"/-"]}),Object(d.jsxs)("p",{className:"card-text",children:["SKU : ",e.sku]})]})]})})]})})})},I=a(27),q="GET_PRODUCTS",A="ADD_PRODUCT",F="UPDATE_PRODUCTS",V="DELETE_PRODUCTS",R="SEARCH_PRODUCT",M="FETCH_PRODUCT_SUCCESS",z="FETCH_PRODUCT_FAILED",H="ADD_PRODUCT_SUCCESS",B="ADD_PRODUCT_FAILED",G=function(){return{type:q}},J=function(e){return{type:A,payload:e}},K=function(e,t){return{type:F,id:t,payload:e}},X=function(e){return{type:V,id:e}},W=function(e){return{type:R,searchText:e}},Q=Object(y.a)({},r),Y=function(e){return Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[e.columns.map((function(t,a){if("object"!==typeof e.row[t])return Object(d.jsx)("th",{children:t},"".concat("table-head-"+t))})),Object(d.jsx)("th",{children:"Image"}),Object(d.jsx)("th",{children:"Action"})]})})},Z=function(e){return Object(d.jsxs)("tr",{children:[e.columns.map((function(t,a){if("object"!==typeof e.row[t])return Object(d.jsx)("td",{children:e.row[t]},"".concat("table-cell-"+t))})),console.log(e.row),e.isImg?Object(d.jsx)("td",{children:Object(d.jsx)("img",{className:"table-product-img",src:e.row[e.isImg].length?"http://localhost:5005/"+e.row[e.isImg][0].image_path:"",alt:"No Image"})}):"",Object(d.jsx)("td",{children:Object(d.jsx)("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#orderModel",onClick:function(){e.onDetail(e.row)},children:"Show Order Details"})})]})},$=function(){var e=Object(I.b)(),t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)({}),i=Object(o.a)(c,2),l=i[0],u=i[1],b=Object(I.c)((function(e){return e.products}));Object(n.useEffect)((function(){e(Q.getProducts())}),[]);var m,h=b.filteredProducts.length?b.filteredProducts:b.products;if(h&&h.length){var g=Object.keys(h[0]);m=Object(d.jsxs)("table",{className:"table",children:[Object(d.jsx)(Y,{columns:g,row:h[0]}),Object(d.jsx)("tbody",{children:h.map((function(e,t){return Object(d.jsx)(Z,{onDetail:u,columns:g,row:e,isImg:"product_images"},"".concat("table-row-"+t))}))})]})}else m=Object(d.jsx)("div",{children:Object(d.jsx)("strong",{children:"Invalid or Empty Data Source"})});return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:"Search Product",onChange:function(t){return a=t.target.value,s(a),void e(Q.searchProducts(a));var a},value:r})}),m,Object(d.jsx)(L.Provider,{value:{data:h,setSelectedProduct:u,selectedProduct:l},children:Object(d.jsx)(E,{})})]})},ee=function e(){var t=this;Object(b.a)(this,e),this.createUser=function(e){return w.a.post("".concat(t.baseUrl,"/user/signup"),e)},this.authUser=function(e){return w.a.post("".concat(t.baseUrl,"/user/login"),e)},this.baseUrl="http://localhost:5001"},te=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(b.a)(this,a),(e=t.call(this)).onInputChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value)),e.validate(t.target.name,t.target.value)},e.onSelectChange=function(t,a){e.setState(Object(O.a)({},t,a)),e.validate(t,a)},e.onButtonClear=function(t){var a=Object(y.a)({},e.state.validation);Object.keys(a).forEach((function(e){a[e].required?(a[e].error=!0,a[e].msg="Field is required!"):a[e].msg=""})),e.setState({first_name:"",last_name:"",middle_name:"",email:"",password:"",primary_mobile:"",validate:a})},e.onButtonSave=Object(C.a)(f.a.mark((function t(){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={first_name:e.state.first_name,last_name:e.state.last_name,middle_name:e.state.middle_name,email:e.state.email,password:e.state.password,primary_mobile:e.state.primary_mobile,group:e.state.group},t.next=3,e.UserService.createUser(a);case 3:(r=t.sent).data.success?e.setState({responseType:"success",responseMessage:r.data.msg}):e.setState({responseType:"danger",responseMessage:r.data.msg});case 5:case"end":return t.stop()}}),t)}))),e.validate=function(t,a){var r=e.state.validation;r[t].required&&0===a.length?e.setState({validation:Object(y.a)(Object(y.a)({},e.state.validation),{},Object(O.a)({},t,Object(y.a)(Object(y.a)({},e.state.validation[t]),{},{error:!0,msg:"This field is required!"})))}):a.length>r[t].minLength&&!(a.length<r[t].maxLength)?e.setState({validation:Object(y.a)(Object(y.a)({},e.state.validation),{},Object(O.a)({},t,Object(y.a)(Object(y.a)({},e.state.validation[t]),{},{error:!0,msg:"The field length should be minimum = ".concat(r[t].minLength," and maximum = ").concat(r[t].maxLength)})))}):e.setState({validation:Object(y.a)(Object(y.a)({},e.state.validation),{},Object(O.a)({},t,Object(y.a)(Object(y.a)({},e.state.validation[t]),{},{error:!1,msg:""})))})},e.isFormValid=function(){var t=Object(y.a)({},e.state.validation),a=[];return Object.keys(t).forEach((function(e){a.push(t[e].error)})),console.log(a),a.includes(!0)},e.toggleAlert=function(t){e.setState({alertToggeled:t}),setTimeout((function(){e.setState({alertToggeled:!1})}),2500)},e.state={first_name:"",last_name:"",middle_name:"",email:"",password:"",primary_mobile:"",group:"general",validation:{first_name:{required:!0,minLength:3,maxLength:20,error:!0,msg:"Field is required!"},last_name:{required:!0,minLength:3,maxLength:20,error:!0,msg:"Field is required!"},middle_name:{required:!1,minLength:3,maxLength:20,error:!1,msg:""},email:{required:!0,minLength:3,maxLength:50,error:!0,msg:"Field is required!"},password:{required:!0,minLength:8,maxLength:20,error:!0,msg:"Field is required!"},primary_mobile:{required:!0,minLength:10,maxLength:10,error:!0,msg:"Field is required!"},group:{required:!0,error:!0,msg:"Field is required!"}},valid:!1,responseType:"",responseMessage:"",alertToggeled:!1},e.UserService=new ee,e.group=[{id:"2",name:"Customer"},{id:"3",name:"Vendor"}],e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(k,{label:"First Name",name:"first_name",value:this.state.first_name,type:"text",isValid:this.state.validation.first_name.error,msg:this.state.validation.first_name.msg,handleChange:this.onInputChange}),Object(d.jsx)(k,{label:"Last Name",name:"last_name",value:this.state.last_name,type:"text",isValid:this.state.validation.last_name.error,msg:this.state.validation.last_name.msg,handleChange:this.onInputChange}),Object(d.jsx)(k,{label:"Middle Name(Optional)",name:"middle_name",value:this.state.middle_name,type:"text",isValid:this.state.validation.middle_name.error,msg:this.state.validation.middle_name.msg,handleChange:this.onInputChange}),Object(d.jsx)(k,{label:"Email",name:"email",value:this.state.email,type:"text",isValid:this.state.validation.email.error,msg:this.state.validation.email.msg,handleChange:this.onInputChange}),Object(d.jsx)(k,{label:"Password",name:"password",value:this.state.password,type:"text",isValid:this.state.validation.password.error,msg:this.state.validation.password.msg,handleChange:this.onInputChange}),Object(d.jsx)(k,{label:"Primary Mobile",name:"primary_mobile",value:this.state.primary_mobile,type:"text",isValid:this.state.validation.primary_mobile.error,msg:this.state.validation.primary_mobile.msg,handleChange:this.onInputChange}),Object(d.jsx)(P,{name:"group",label:"Visibility",data:this.group,changeSelect:function(t){return e.onSelectChange("group",t)},selected:this.state.group,isValid:this.state.validation.group.error,msg:this.state.validation.group.msg}),Object(d.jsx)("button",{className:"btn btn-primary mr-2",onClick:this.onButtonSave,disabled:this.isFormValid(),children:"Save"}),Object(d.jsx)("button",{className:"btn btn-warning",onClick:this.onButtonClear,children:"Clear"})]})}}]),a}(n.Component),ae=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(b.a)(this,a),(e=t.call(this)).onInputChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value)),e.validate(t.target.name,t.target.value)},e.onButtonLogin=Object(C.a)(f.a.mark((function t(){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={email:e.state.email,password:e.state.password},t.next=3,e.UserService.authUser(a);case 3:r=t.sent,console.log(r.data),r.data.success&&(sessionStorage.setItem("token",r.data.token),sessionStorage.setItem("role",r.data.role));case 6:case"end":return t.stop()}}),t)}))),e.validate=function(t,a){var r=e.state.validation;r[t].required&&0===a.length?e.setState({validation:Object(y.a)(Object(y.a)({},e.state.validation),{},Object(O.a)({},t,Object(y.a)(Object(y.a)({},e.state.validation[t]),{},{error:!0,msg:"This field is required!"})))}):a.length>r[t].minLength&&!(a.length<r[t].maxLength)?e.setState({validation:Object(y.a)(Object(y.a)({},e.state.validation),{},Object(O.a)({},t,Object(y.a)(Object(y.a)({},e.state.validation[t]),{},{error:!0,msg:"The field length should be minimum = ".concat(r[t].minLength," and maximum = ").concat(r[t].maxLength)})))}):e.setState({validation:Object(y.a)(Object(y.a)({},e.state.validation),{},Object(O.a)({},t,Object(y.a)(Object(y.a)({},e.state.validation[t]),{},{error:!1,msg:""})))})},e.isFormValid=function(){var t=Object(y.a)({},e.state.validation),a=[];return Object.keys(t).forEach((function(e){a.push(t[e].error)})),a.includes(!0)},e.state={email:"",password:"",validation:{email:{required:!0,minLength:3,maxLength:50,error:!0,msg:"Field is required!"},password:{required:!0,minLength:8,maxLength:20,error:!0,msg:"Field is required!"}},valid:!1},e.UserService=new ee,e}return Object(m.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(k,{label:"Email",name:"email",value:this.state.email,type:"text",isValid:this.state.validation.email.error,msg:this.state.validation.email.msg,handleChange:this.onInputChange}),Object(d.jsx)(k,{label:"Password",name:"password",value:this.state.password,type:"text",isValid:this.state.validation.password.error,msg:this.state.validation.password.msg,handleChange:this.onInputChange}),Object(d.jsx)("button",{className:"btn btn-primary mr-2",onClick:this.onButtonLogin,disabled:this.isFormValid(),children:"Login"})]})}}]),a}(n.Component),re=function e(){var t=this;Object(b.a)(this,e),this.getCategories=function(){return w.a.get("".concat(t.baseUrl,"/category"),{headers:{Authorization:sessionStorage.getItem("token")}})},this.getCategoryById=function(e){return w.a.get("".concat(t.baseUrl,"/category/").concat(e),{headers:{Authorization:sessionStorage.getItem("token")}})},this.createCategory=function(e){return w.a.post("".concat(t.baseUrl,"/category"),e,{headers:{Authorization:sessionStorage.getItem("token")}})},this.updateCategory=function(e){return w.a.put("".concat(t.baseUrl,"/category/").concat(e.id),e,{headers:{Authorization:sessionStorage.getItem("token")}})},this.deleteCategory=function(e){return w.a.delete("".concat(t.baseUrl,"/category/").concat(e),{headers:{Authorization:sessionStorage.getItem("token")}})},this.getSubCategories=function(){return w.a.get("".concat(t.baseUrl,"/sub-category"),{headers:{Authorization:sessionStorage.getItem("token")}})},this.getSubCategoryById=function(e){return w.a.get("".concat(t.baseUrl,"/sub-category/").concat(e),{headers:{Authorization:sessionStorage.getItem("token")}})},this.createSubCategory=function(e){return w.a.post("".concat(t.baseUrl,"/sub-category"),e,{headers:{Authorization:sessionStorage.getItem("token")}})},this.deleteSubCategory=function(e){return w.a.delete("".concat(t.baseUrl,"/sub-category/").concat(e),{headers:{Authorization:sessionStorage.getItem("token")}})},this.updateSubCategory=function(e){return w.a.put("".concat(t.baseUrl,"/sub-category/").concat(e.id),e,{headers:{Authorization:sessionStorage.getItem("token")}})},this.baseUrl="http://localhost:5003"},ne=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:this.props.columns.map((function(t,a){if("object"!==typeof e.props.row[t])return Object(d.jsx)("th",{children:t},"".concat("table-head-"+t))}))})})}}]),a}(n.Component),se=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return Object(d.jsxs)("tr",{children:[this.props.columns.map((function(t,a){if("object"!==typeof e.props.row[t])return Object(d.jsx)("td",{children:e.props.row[t]},"".concat("table-cell-"+t))})),this.props.isImg?Object(d.jsx)("td",{children:Object(d.jsx)("img",{className:"table-product-img",src:"http://localhost:5005/"+(this.props.row[this.props.isImg].length?this.props.row[this.props.isImg][0].image_path:"")})}):""]})}}]),a}(n.Component),ce=(n.Component,function(e){return Object(d.jsx)("table",{className:"table table-dark bg-dark",children:Object(d.jsx)("tbody",{children:e.data.map((function(t,a){return Object(d.jsxs)("tr",{className:"true"===e.cursor?" list-group-item--category":"",children:[Object(d.jsxs)("td",Object(y.a)(Object(y.a)({},"true"===e.cursor?{onClick:function(){return e.onListSelect(t.id)}}:{}),{},{children:[t.id,"."]})),Object(d.jsx)("td",{children:t.category_id}),Object(d.jsx)("td",{children:t.name}),Object(d.jsx)("td",{colSpan:"2",children:Object(d.jsx)("button",{className:"btn-sm btn-danger",onClick:function(){return e.onDelete(e.isSub,t.id)},children:"DELETE"})}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{className:"btn-sm btn-info",onClick:function(){return e.onEdit(e.isSub,t)},children:"EDIT"})})]},"row"+a)}))})})}),ie=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(b.a)(this,a),(e=t.call(this)).componentDidUpdate=function(t){t.selectedCategory===e.props.selectedCategory||e.props.isSub||(e.setState(Object(y.a)({},e.props.selectedCategory)),e.validateAll(e.props.selectedCategory)),t.selectedSubCategory!==e.props.selectedSubCategory&&e.props.isSub&&(e.setState(Object(y.a)({},e.props.selectedSubCategory)),e.validateAll(e.props.selectedSubCategory))},e.onInputChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value)),e.validate(t.target.name,t.target.value)},e.validate=function(t,a){var r=e.state.validation;r[t].required&&0===a.length?e.setState({validation:Object(y.a)(Object(y.a)({},e.state.validation),{},Object(O.a)({},t,Object(y.a)(Object(y.a)({},e.state.validation[t]),{},{error:!0,msg:"This field is required!"})))}):a.length>r[t].minLength&&!(a.length<r[t].maxLength)?e.setState({validation:Object(y.a)(Object(y.a)({},e.state.validation),{},Object(O.a)({},t,Object(y.a)(Object(y.a)({},e.state.validation[t]),{},{error:!0,msg:"The field length should be minimum = ".concat(r[t].minLength," and maximum = ").concat(r[t].maxLength)})))}):r[t].unique&&e.checkIfUnique(a)?e.setState({validation:Object(y.a)(Object(y.a)({},e.state.validation),{},Object(O.a)({},t,Object(y.a)(Object(y.a)({},e.state.validation[t]),{},{error:!0,msg:(e.props.isSub?"Sub ":"")+"Category ID already exist!"})))}):(console.log(t,r[t].required,a.length),e.setState({validation:Object(y.a)(Object(y.a)({},e.state.validation),{},Object(O.a)({},t,Object(y.a)(Object(y.a)({},e.state.validation[t]),{},{error:!1,msg:""})))}))},e.checkIfUnique=function(t){return e.props.data.filter((function(e){return e.category_id===t})).length},e.validateAll=function(t){var a=Object(y.a)({},e.state.validation);console.log(a),Object.keys(a).forEach((function(e){console.log(e),console.log(a[e]);var r=t[e];a=a[e].required&&0===r.length?Object(y.a)(Object(y.a)({},a),{},Object(O.a)({},e,Object(y.a)(Object(y.a)({},a[e]),{},{error:!0,msg:"This field is required!"}))):r.length>a[e].minLength&&!(r.length<a[e].maxLength)?Object(y.a)(Object(y.a)({},a),{},Object(O.a)({},e,Object(y.a)(Object(y.a)({},a[e]),{},{error:!0,msg:"The field length should be minimum = ".concat(a[e].minLength," and maximum = ").concat(a[e].maxLength)}))):Object(y.a)(Object(y.a)({},a),{},Object(O.a)({},e,Object(y.a)(Object(y.a)({},a[e]),{},{error:!1,msg:""})))})),e.setState({validation:a})},e.isFormValid=function(){var t=Object(y.a)({},e.state.validation),a=[];return Object.keys(t).forEach((function(e){a.push(t[e].error)})),a.includes(!0)},e.onButtonSave=Object(C.a)(f.a.mark((function t(){var a,r,n,s,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={category_id:e.state.category_id,name:e.state.name},e.props.isSub){t.next=18;break}if(e.props.selectedCategory){t.next=10;break}return t.next=5,e.CategoryService.createCategory(a);case 5:r=t.sent,console.log(r.data),r.data.success&&e.props.refreshData(),t.next=16;break;case 10:return a.id=e.state.id,t.next=13,e.CategoryService.updateCategory(a);case 13:n=t.sent,console.log(n.data),n.data.success&&e.props.refreshData();case 16:t.next=33;break;case 18:if(a.parent_id=e.props.selectedParent,e.props.selectedSubCategory){t.next=27;break}return t.next=22,e.CategoryService.createSubCategory(a);case 22:s=t.sent,console.log(s.data),s.data.success&&e.props.refreshData(),t.next=33;break;case 27:return a.id=e.state.id,t.next=30,e.CategoryService.updateSubCategory(a);case 30:c=t.sent,console.log(c.data),c.data.success&&e.props.refreshData();case 33:case"end":return t.stop()}}),t)}))),e.onButtonClear=function(){var t=Object(y.a)({},e.state.validation);Object.keys(t).forEach((function(e){t[e].required?(t[e].error=!0,t[e].msg="Field is required!"):t[e].msg=""})),e.setState({category_id:"",name:""})},e.state={category_id:"",name:"",id:"",parent_id:"",validation:{category_id:{required:!0,minLength:10,maxLength:20,error:!0,msg:"Field is required!",unique:!0},name:{required:!0,minLength:3,maxLength:30,error:!0,msg:"Field is required!"}}},e.CategoryService=new re,e}return Object(m.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(k,{label:(this.props.isSub?"Sub ":"")+"Category Id",name:"category_id",value:this.state.category_id,type:"text",isValid:this.state.validation.category_id.error,msg:this.state.validation.category_id.msg,handleChange:this.onInputChange}),Object(d.jsx)(k,{label:(this.props.isSub?"Sub ":"")+"Category Name",name:"name",value:this.state.name,type:"text",isValid:this.state.validation.name.error,msg:this.state.validation.name.msg,handleChange:this.onInputChange}),Object(d.jsx)("button",{className:"btn btn-primary mr-2",onClick:this.onButtonSave,disabled:this.isFormValid(),children:this.props.selectedCategory||this.props.selectedSubCategory?"Update":"Save"}),Object(d.jsx)("button",{className:"btn btn-warning mr-2",onClick:this.onButtonClear,children:"Clear"})]})}}]),a}(n.Component),oe=function(e){return Object(d.jsx)("div",{className:("success"===e.type?" alert alert-success":"alert alert-danger")+(e.show?"":" d-none")+" mt-5",children:e.message})},le=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(b.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.getCategories()},e.getCategories=Object(C.a)(f.a.mark((function t(){var a,r,n,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.CategoryService.getCategories();case 2:return(a=t.sent).data.success?(r=a.data.data,e.setState({categories:r,responseType:"success",responseMessage:a.data.msg}),e.toggleAlert()):(e.setState({responseType:"danger",responseMessage:a.data.msg}),e.toggleAlert()),t.next=6,e.CategoryService.getSubCategories();case 6:(n=t.sent).data.success?(s=n.data.data,e.setState({subCategories:s,responseType:"success",responseMessage:a.data.msg}),e.toggleAlert()):(e.setState({responseType:"danger",responseMessage:a.data.msg}),e.toggleAlert()),e.state.selectedParent&&e.onCategorySelect(e.state.selectedParent);case 9:case"end":return t.stop()}}),t)}))),e.onCategorySelect=function(t){var a=e.state.subCategories.filter((function(e){return e.parent_id===t}));e.setState({filteredCategories:a,selectedParent:t})},e.toggleAlert=function(){e.setState({alertToggeled:!0}),setTimeout((function(){e.setState({alertToggeled:!1})}),2500)},e.onHandleEdit=function(){var t=Object(C.a)(f.a.mark((function t(a,r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a?e.setState({selectedSubCategory:Object(y.a)({},r)}):e.setState({selectedCategory:Object(y.a)({},r)});case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.onHandleDelete=function(){var t=Object(C.a)(f.a.mark((function t(a,r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(a,r),a){t.next=8;break}return e.setState({deleteCategory:r}),t.next=5,e.CategoryService.deleteCategory(r);case 5:e.getCategories(),t.next=12;break;case 8:return e.setState({deletedSubCategory:r}),t.next=11,e.CategoryService.deleteSubCategory(r);case 11:e.getCategories();case 12:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.state={categories:[],subCategories:[],filteredCategories:[],selectedParent:!1,responseType:"",responseMessage:"",alertToggeled:!1,selectedCategory:!1,selectedSubCategory:!1,deleteCategory:!1,deletedSubCategory:!1},e.CategoryService=new re,e}return Object(m.a)(a,[{key:"render",value:function(){var e=" d-none";return this.state.selectedParent&&(e=""),Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-sm-2 mt-3",children:Object(d.jsx)(ie,{isSub:!1,selectedCategory:this.state.selectedCategory,selectedParent:this.state.selectedParent,refreshData:this.getCategories,data:this.state.categories})}),Object(d.jsxs)("div",{className:"col text-center",children:[Object(d.jsx)("h2",{children:"Categories"}),Object(d.jsx)(ce,{isSub:!1,data:this.state.categories,cursor:"true",onListSelect:this.onCategorySelect,onEdit:this.onHandleEdit,onDelete:this.onHandleDelete})]}),Object(d.jsxs)("div",{className:"col text-center"+e,children:[Object(d.jsx)("h2",{children:"Sub Categories"}),Object(d.jsx)(ce,{isSub:!0,data:this.state.filteredCategories,cursor:"false",onEdit:this.onHandleEdit,onDelete:this.onHandleDelete})]}),Object(d.jsx)("div",{className:"col-sm-2 mt-3"+e,children:Object(d.jsx)(ie,{isSub:!0,selectedSubCategory:this.state.selectedSubCategory,selectedParent:this.state.selectedParent,refreshData:this.getCategories,data:this.state.subCategories})})]}),Object(d.jsx)(oe,{type:this.state.responseType,message:this.state.responseMessage,show:this.state.alertToggeled})]})}}]),a}(n.Component),de=function(){var e=sessionStorage.getItem("token"),t=sessionStorage.getItem("role");return e&&"admin"===t?Object(d.jsxs)(p.d,{children:[Object(d.jsx)(p.b,{exact:!0,path:"/",component:j}),Object(d.jsx)(p.b,{exact:!0,path:"/products",component:$}),Object(d.jsx)(p.b,{exact:!0,path:"/category",component:le}),Object(d.jsx)(p.b,{exact:!0,path:"/product",component:U}),Object(d.jsx)(p.a,{to:"/"})]}):e&&"customer"===t?Object(d.jsxs)(p.d,{children:[Object(d.jsx)(p.b,{exact:!0,path:"/",component:j}),Object(d.jsx)(p.b,{exact:!0,path:"/products",component:$}),Object(d.jsx)(p.a,{to:"/"})]}):Object(d.jsxs)(p.d,{children:[Object(d.jsx)(p.b,{exact:!0,path:"/",component:j}),Object(d.jsx)(p.b,{exact:!0,path:"/products",component:$}),Object(d.jsx)(p.b,{exact:!0,path:"/signup",component:te}),Object(d.jsx)(p.b,{exact:!0,path:"/login",component:ae}),Object(d.jsx)(p.a,{to:"/"})]})};var ue=function(){return Object(d.jsx)(u,{children:Object(d.jsx)(de,{})})},be=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,82)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))},me=a(35),he=a(23),ge={products:[],filteredProducts:[],selectedProducts:{},searchText:"",result:{}},je=Object(he.b)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return console.log(t.searchText),Object(y.a)(Object(y.a)({},e),{},{filteredProducts:Object(x.a)(e.products.filter((function(e){return Object.keys(e).map((function(a){if("string"===typeof e[a])return e[a].toLowerCase().includes(t.searchText.toLowerCase())})).includes(!0)})))});case M:return console.log("FETCH_PRODUCT_SUCCESS",t),Object(y.a)(Object(y.a)({},e),{},{products:t.products,result:{sucess:!0,msg:t.msg}});case z:return Object(y.a)(Object(y.a)({},e),{},{result:{sucess:!1,msg:t.msg}});case H:return Object(y.a)(Object(y.a)({},e),{},{result:{record:t.product,sucess:!0,msg:t.msg}});case B:return Object(y.a)(Object(y.a)({},e),{},{result:{sucess:!1,msg:t.msg}});default:return e}}}),pe=a(47),Oe=a(22),ve=f.a.mark(we),fe=f.a.mark(Ne),xe=f.a.mark(Te),Ce=f.a.mark(Ue),ye=f.a.mark(Le),Se=new D;function ke(){return _e.apply(this,arguments)}function _e(){return(_e=Object(C.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.getProducts();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Oe.b)(ke);case 2:if(!(e=t.sent).data.success){t.next=8;break}return t.next=6,Object(Oe.c)({type:Q.FETCH_PRODUCT_SUCCESS,products:e.data.data,msg:e.data.msg});case 6:t.next=10;break;case 8:return t.next=10,Object(Oe.c)({type:Q.FETCH_PRODUCT_FAILED,msg:e.data.msg});case 10:case"end":return t.stop()}}),ve)}function Ne(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.d)(Q.GET_PRODUCTS,we);case 2:case"end":return e.stop()}}),fe)}function De(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(C.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.createProduct(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e){var t;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Oe.b)(De,e.payload);case 2:if(!(t=a.sent).data.success){a.next=8;break}return a.next=6,Object(Oe.c)({type:Q.ADD_PRODUCT_SUCCESS,products:t.data.data,msg:t.data.msg});case 6:a.next=10;break;case 8:return a.next=10,Object(Oe.c)({type:Q.ADD_PRODUCT_FAILED,msg:t.data.msg});case 10:case"end":return a.stop()}}),xe)}function Ue(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.d)(Q.ADD_PRODUCT,Te);case 2:case"end":return e.stop()}}),Ce)}function Le(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.a)([Ne(),Ue()]);case 2:case"end":return e.stop()}}),ye)}var Ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||he.c,Ie=Object(pe.a)(),qe=Object(he.d)(je,Ee(Object(he.a)(Ie)));Ie.run(Le);var Ae=qe;i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(me.a,{children:Object(d.jsx)(I.a,{store:Ae,children:Object(d.jsx)(ue,{})})})}),document.getElementById("root")),be()}},[[81,1,2]]]);
//# sourceMappingURL=main.2e08f0e8.chunk.js.map